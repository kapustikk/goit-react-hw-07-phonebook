(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{12:function(t,e,n){t.exports={form:"ContactForm_form__24sXp",label:"ContactForm_label__3VwRr",input:"ContactForm_input__22Nqf",button:"ContactForm_button__3f2jH"}},21:function(t,e,n){t.exports={form:"Filter_form__2qyBI",label:"Filter_label__3DcZT",input:"Filter_input__2DoVp"}},26:function(t,e,n){t.exports={contactList:"ContactList_contactList__3MzlG",allContacts:"ContactList_allContacts__1ew0E"}},40:function(t,e,n){t.exports={container:"Container_container__3RIox"}},51:function(t,e,n){},90:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(17),o=n.n(r),u=n(42),i=n(6),s=(n(51),n(19)),b=function(t){return t.contacts.items},l=function(t){return t.contacts.filter},j=function(t){return t.contacts.loading},f=function(t){return t.contacts.error},O=Object(s.a)([b,l],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),d=n(11),h=n(29),m=n(16),p=n.n(m),x=n(4),_=Object(x.b)("contacts/addContactRequest"),v=Object(x.b)("contacts/addContactSuccess"),C=Object(x.b)("contacts/addContactError"),g=Object(x.b)("contacts/deleteContactRequest"),N=Object(x.b)("contacts/deleteContactSuccess"),y=Object(x.b)("contacts/deleteContactError"),F=Object(x.b)("contacts/changeFilter"),w=Object(x.b)("contacts/fetchContactsRequest"),L=Object(x.b)("contacts/fetchContactsSuccess"),S=Object(x.b)("contacts/fetchContactsError");p.a.defaults.baseURL="http://localhost:7777";var k=n(12),E=n.n(k),R=n(1);function q(){var t=Object(i.c)(b),e=Object(i.b)(),n=function(t,n){return e(function(t,e){return function(n){var c={name:t,number:e};n(_()),p.a.post("/contacts",c).then((function(t){var e=t.data;return n(v(e))})).catch((function(t){return n(C(t))}))}}(t,n))},a=Object(c.useState)(""),r=Object(h.a)(a,2),o=r[0],u=r[1],s=Object(c.useState)(""),l=Object(h.a)(s,2),j=l[0],f=l[1],O=function(){var e=t.reduce((function(t,e){return[].concat(Object(d.a)(t),[e.name])}),[]),n=t.reduce((function(t,e){return[].concat(Object(d.a)(t),[e.number])}),[]);if(e.includes(o)||n.includes(j))return alert("".concat(o," is already in contacts")),!0};return Object(R.jsxs)("form",{onSubmit:function(t){t.preventDefault(),u(""),f(""),O()||n(o,j)},className:E.a.form,children:[Object(R.jsxs)("label",{className:E.a.label,children:["Name",Object(R.jsx)("input",{type:"text",name:"name",value:o,onChange:function(t){return u(t.currentTarget.value)},className:E.a.input})]}),Object(R.jsxs)("label",{className:E.a.label,children:["Number",Object(R.jsx)("input",{type:"tel",name:"number",value:j,onChange:function(t){return f(t.currentTarget.value)},className:E.a.input})]}),Object(R.jsx)("button",{type:"submit",className:E.a.button,children:"Add contact"})]})}var T=n(26),D=n.n(T),B=n(39),I=n.n(B);function z(){var t=Object(i.c)(O),e=Object(i.b)(),n=Object(i.c)(b),a=Object(i.c)(j),r=Object(i.c)(f);Object(c.useEffect)((function(){return e((function(t){t(w()),p.a.get("/contacts").then((function(e){var n=e.data;return t(L(n))})).catch((function(e){return t(S(e))}))}))}),[e]);var o=function(t){return e(function(t){return function(e){e(g()),p.a.delete("/contacts/".concat(t)).then((function(){return e(N(t))})).catch((function(t){return e(y(t))}))}}(t))};return Object(R.jsxs)(R.Fragment,{children:[n.length>0&&!r&&Object(R.jsx)("ul",{className:D.a.contactList,children:t.map((function(t){var e=t.id,n=t.name,c=t.number;return Object(R.jsxs)("li",{className:D.a.allContacts,children:[Object(R.jsxs)("p",{children:[n,": ",c]}),Object(R.jsx)("button",{onClick:function(){return o(e)},children:"Delete"})]},e)}))}),!n.length&&!r&&!a&&Object(R.jsx)(I.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80,timeout:3e3})]})}var A=n(21),J=n.n(A);function M(){var t=Object(i.c)(l),e=Object(i.b)();return Object(R.jsx)("form",{className:J.a.form,children:Object(R.jsxs)("label",{className:J.a.label,children:["Find contact by name",Object(R.jsx)("input",{type:"text",value:t,onChange:function(t){return e(F(t.target.value))},className:J.a.input})]})})}var V=n(40),G=n.n(V),H=function(t){var e=t.children;return Object(R.jsx)("div",{className:G.a.container,children:e})};var P,U,X=function(){var t=Object(i.c)(j);return Object(R.jsx)(H,{children:Object(R.jsxs)("div",{children:[Object(R.jsx)("h1",{children:"Phonebook"}),Object(R.jsx)(q,{}),t&&Object(R.jsx)("p",{children:"Loading..."}),Object(R.jsx)("h2",{children:"Contacts"}),Object(R.jsx)(M,{}),Object(R.jsx)(z,{})]})})},Z=n(41),K=n.n(Z),Q=n(13),W=n(8),Y=n(5),$=Object(x.c)([],(P={},Object(W.a)(P,L,(function(t,e){return e.payload})),Object(W.a)(P,v,(function(t,e){return[e.payload].concat(Object(d.a)(t))})),Object(W.a)(P,N,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),P)),tt=Object(x.c)("",Object(W.a)({},F,(function(t,e){return e.payload}))),et=Object(x.c)(!1,(U={},Object(W.a)(U,w,(function(){return!0})),Object(W.a)(U,L,(function(){return!1})),Object(W.a)(U,S,(function(){return!1})),Object(W.a)(U,_,(function(){return!0})),Object(W.a)(U,v,(function(){return!1})),Object(W.a)(U,C,(function(){return!1})),Object(W.a)(U,g,(function(){return!0})),Object(W.a)(U,N,(function(){return!1})),Object(W.a)(U,y,(function(){return!1})),U)),nt=Object(Y.c)({items:$,filter:tt,loading:et}),ct=[].concat(Object(d.a)(Object(x.d)({serializableCheck:{ignoredActions:[Q.a,Q.f,Q.b,Q.c,Q.d,Q.e]}})),[K.a]),at=Object(x.a)({reducer:{contacts:nt},middleware:ct,devTools:!1});o.a.render(Object(R.jsx)(a.a.StrictMode,{children:Object(R.jsx)(i.a,{store:at,children:Object(R.jsx)(u.a,{children:Object(R.jsx)(X,{})})})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.8fabed46.chunk.js.map